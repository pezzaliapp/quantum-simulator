
<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Probabilit√† Quantistica</title>
  <style>
    body { background-color: black; color: lime; font-family: monospace; text-align: center; }
    input, button { margin: 0.5rem; font-size: 1rem; }
    canvas { background: black; display: block; margin: auto; }
    .menu-button {
      background: white; color: black; font-weight: bold;
      padding: 0.5em 1em; margin-top: 1em; border-radius: 5px;
    }
  </style>
</head>
<body>
  <h1>üß¨ <span style="color:lime">Probabilit√† Quantistica</span></h1>

  <label>Probabilit√† iniziale (0‚Äì1): <input id="prob" type="number" step="0.01" value="0.56" min="0" max="1"></label>
  <label>Ampiezza: <input id="ampiezza" type="number" step="0.1" value="1.4"></label>
  <label>œà(x): <input id="funzione" value="Math.cos(x)"></label>
  <button onclick="startAnimation()">‚ñ∂Ô∏è Avvia Simulazione</button>

  <canvas id="canvas" width="800" height="300"></canvas>
  <br>
  <a href="index.html"><button class="menu-button">‚¨Ö Menu Principale</button></a>

  <script>
    function startAnimation() {
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      const p = parseFloat(document.getElementById('prob').value);
      const A = parseFloat(document.getElementById('ampiezza').value);
      const f = document.getElementById('funzione').value;
      let t = 0;

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let x = 0; x < canvas.width; x++) {
          const fx = x / canvas.width * (Math.PI * 4);
          let y;
          try {
            y = eval(f.replace(/x/g, fx) + ` * ${A}`);
          } catch {
            y = 0;
          }
          const prob = Math.pow(y, 2) * p;
          const h = Math.min(canvas.height, prob * canvas.height);
          ctx.fillStyle = 'lime';
          ctx.fillRect(x, canvas.height - h, 1, h);
        }
        t += 0.05;
        requestAnimationFrame(draw);
      }

      draw();
    }
  </script>
</body>
</html>
